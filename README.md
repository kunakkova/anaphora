## Анафорическое разрешение (русский язык)

Инструмент для автоматической аннотации местоимённых референций в русском тексте. Система находит местоимения (личные, притяжательные, возвратные, относительные) и подписывает наиболее вероятный антецедент: например, «Иван сказал, что он [Иван] придёт».

### Возможности
- Определение типа местоимения (личное, притяжательное, возвратное, относительное).
- Поиск кандидатов‑антецедентов в контексте предложения/соседних предложений.
- Отбор кандидатов правилами согласования и специальными эвристиками.
- Ранжирование кандидатов с приоритетом подлежащих и ближайших упоминаний.
- Поддержка прямой речи: «Я …», — сказал Иван → «Я [Иван] …».

### Быстрый старт
Требуется Python 3.10+.

1) Установите зависимости:
```bash
pip install -r requirements.txt
```

2) Подготовьте данные (файлы со списками в каталоге `data/` уже включены в репозиторий).

3) Запуск GUI:
```bash
python gui.py
```
Откроется окно: вставьте текст, нажмите «Аннотировать», скопируйте результат при необходимости.

4) Запуск в терминале (CLI):
```bash
python cli.py
```
Вводите текст построчно; для выхода наберите `exit`.

### Пример
Вход:
```
«Я хочу есть», — говорит Иван
```
Выход:
```
«Я [Иван] хочу есть», — говорит Иван
```

### Структура
- `anaphora/` — ядро: токенизация, морфология, поиск кандидатов, фильтры, ранжирование, DFA‑конвейер.
- `data/` — словари местоимений/лексики (UTF‑8, по одному токену на строку).
- `gui.py` — графический интерфейс на Tkinter.
- `cli.py` — консольный интерфейс.

### Зависимости
- `pymorphy3`, `nltk` (токенизация), `tkinter` (GUI, включён в стандартную библиотеку на Windows/macOS).
При первом запуске загружаются модели NLTK (`punkt`).

### Примечания
- Аннотация добавляется в квадратных скобках сразу после местоимения.
- Эвристики оптимизированы под общеупотребительный письменный русский; пограничные случаи можно расширять правилами.

